import{A as ee,B as ae,C as b,h as I,D as re,E as ne,g as U,l as ie,H as fe,F as X,G as D,I as g,J as le,K,M as Q,N as se,O as M,Q as W,R as z,x as te,T as F,z as ue,U as S,V as ve,W as _e,X as de,Y as ce,Z as k,_ as oe,$ as he,a0 as Z,q as Ee,a1 as G,a2 as pe}from"./CnHA5S3h.js";import{a as Ae}from"./BaPKZrhk.js";function me(i,e){return e}function Te(i,e,a,s){for(var u=[],t=e.length,_=0;_<t;_++)ve(e[_].e,u,!0);var c=t>0&&u.length===0&&a!==null;if(c){var A=a.parentNode;_e(A),A.append(a),s.clear(),C(i,e[0].prev,e[t-1].next)}de(u,()=>{for(var h=0;h<t;h++){var d=e[h];c||(s.delete(d.k),C(i,d.prev,d.next)),ce(d.e,!c)}})}function Ne(i,e,a,s,u,t=null){var _=i,c={flags:e,items:new Map,first:null},A=(e&Z)!==0;if(A){var h=i;_=I?b(re(h)):h.appendChild(ee())}I&&ne();var d=null,m=!1,f=ie(()=>{var v=a();return ue(v)?v:v==null?[]:W(v)});ae(()=>{var v=U(f),r=v.length;if(m&&r===0)return;m=r===0;let x=!1;if(I){var E=_.data===fe;E!==(r===0)&&(_=X(),b(_),D(!1),x=!0)}if(I){for(var p=null,T,o=0;o<r;o++){if(g.nodeType===8&&g.data===le){_=g,x=!0,D(!1);break}var n=v[o],l=s(n,o);T=$(g,c,p,null,n,l,o,u,e,a),c.items.set(l,T),p=T}r>0&&b(X())}I||Ie(v,c,_,u,e,s,a),t!==null&&(r===0?d?K(d):d=Q(()=>t(_)):d!==null&&se(d,()=>{d=null})),x&&D(!0),U(f)}),I&&(_=g)}function Ie(i,e,a,s,u,t,_){var L,q,V,Y;var c=(u&pe)!==0,A=(u&(k|S))!==0,h=i.length,d=e.items,m=e.first,f=m,v,r=null,x,E=[],p=[],T,o,n,l;if(c)for(l=0;l<h;l+=1)T=i[l],o=t(T,l),n=d.get(o),n!==void 0&&((L=n.a)==null||L.measure(),(x??(x=new Set)).add(n));for(l=0;l<h;l+=1){if(T=i[l],o=t(T,l),n=d.get(o),n===void 0){var P=f?f.e.nodes_start:a;r=$(P,e,r,r===null?e.first:r.next,T,o,l,s,u,_),d.set(o,r),E=[],p=[],f=r.next;continue}if(A&&xe(n,T,l,u),(n.e.f&M)!==0&&(K(n.e),c&&((q=n.a)==null||q.unfix(),(x??(x=new Set)).delete(n))),n!==f){if(v!==void 0&&v.has(n)){if(E.length<p.length){var w=p[0],y;r=w.prev;var O=E[0],H=E[E.length-1];for(y=0;y<E.length;y+=1)J(E[y],w,a);for(y=0;y<p.length;y+=1)v.delete(p[y]);C(e,O.prev,H.next),C(e,r,O),C(e,H,w),f=w,r=H,l-=1,E=[],p=[]}else v.delete(n),J(n,f,a),C(e,n.prev,n.next),C(e,n,r===null?e.first:r.next),C(e,r,n),r=n;continue}for(E=[],p=[];f!==null&&f.k!==o;)(f.e.f&M)===0&&(v??(v=new Set)).add(f),p.push(f),f=f.next;if(f===null)continue;n=f}E.push(n),r=n,f=n.next}if(f!==null||v!==void 0){for(var N=v===void 0?[]:W(v);f!==null;)(f.e.f&M)===0&&N.push(f),f=f.next;var R=N.length;if(R>0){var j=(u&Z)!==0&&h===0?a:null;if(c){for(l=0;l<R;l+=1)(V=N[l].a)==null||V.measure();for(l=0;l<R;l+=1)(Y=N[l].a)==null||Y.fix()}Te(e,N,j,d)}}c&&Ee(()=>{var B;if(x!==void 0)for(n of x)(B=n.a)==null||B.apply()}),z.first=e.first&&e.first.e,z.last=r&&r.e}function xe(i,e,a,s){(s&k)!==0&&G(i.v,e),(s&S)!==0?G(i.i,a):i.i=a}function $(i,e,a,s,u,t,_,c,A,h){var d=(A&k)!==0,m=(A&oe)===0,f=d?m?te(u):F(u):u,v=(A&S)===0?_:F(_),r={i:v,v:f,k:t,a:null,e:null,prev:a,next:s};try{return r.e=Q(()=>c(i,f,v,h),I),r.e.prev=a&&a.e,r.e.next=s&&s.e,a===null?e.first=r:(a.next=r,a.e.next=r.e),s!==null&&(s.prev=r,s.e.prev=r.e),r}finally{}}function J(i,e,a){for(var s=i.next?i.next.e.nodes_start:a,u=e?e.e.nodes_start:a,t=i.e.nodes_start;t!==s;){var _=he(t);u.before(t),t=_}}function C(i,e,a){e===null?i.first=a:(e.next=a,e.e.next=a&&a.e),a!==null&&(a.prev=e,a.e.prev=e&&e.e)}function ge(i,e,a,s){var u=i.__style;if(I||u!==e){var t=Ae(e);(!I||t!==i.getAttribute("style"))&&(t==null?i.removeAttribute("style"):i.style.cssText=t),i.__style=e}return s}export{Ne as e,me as i,ge as s};
