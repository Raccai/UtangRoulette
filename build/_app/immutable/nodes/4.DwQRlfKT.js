import"../chunks/CWj6FrbW.js";import"../chunks/69_IOA4Y.js";import{ab as N,ai as O,aj as R,ae as U,af as r,n as W,x as Y,ah as d,g as o,ag as t,ac as z,ad as J,l as K}from"../chunks/CnHA5S3h.js";import{t as c,a as l,s as y,e as Q}from"../chunks/DJ3t1WAU.js";import{i as V,s as X,a as Z}from"../chunks/DMnb14WE.js";import{e as ee,s as te}from"../chunks/DxP9DAaZ.js";import{s as se,b as ae,f as re}from"../chunks/BaPKZrhk.js";import{i as oe}from"../chunks/DpMS8cdO.js";import{w as ie,h as k}from"../chunks/C_BjNNir.js";const ne=""+new URL("../assets/HistoryTitle.BwYWP6rP.png",import.meta.url).href;var le=c('<div class="history-entry svelte-g2ei4w"><div class="entry-header svelte-g2ei4w"><span class="category-tag svelte-g2ei4w"> </span> <span class="timestamp svelte-g2ei4w"> </span></div> <p class="message svelte-g2ei4w"> </p></div>'),ce=c('<p class="loading-text svelte-g2ei4w">No history entries found.</p>'),pe=c('<div class="history-controls svelte-g2ei4w"><button class="clear-button svelte-g2ei4w" title="Clear all history">Clear History</button></div> <div class="history-list svelte-g2ei4w"></div>',1),ve=c('<p class="empty-history-text svelte-g2ei4w">Looks like your spin history is empty. Go spin the wheel!</p>'),de=c('<div class="history-page themed-container svelte-g2ei4w"><img alt="History" class="page-title svelte-g2ei4w"> <!></div>');function xe(C,T){N(T,!1);const[H,S]=X(),h=()=>Z(k,"$historyStore",H),m=Y(),D=new Map(ie.map(e=>[e.display,e.color||"#dddddd"]));function _(e){return D.get(e)||"#777"}function L(e){if(!e||typeof e!="number")return"Invalid Date";const s=new Date(e),i={weekday:"short",year:"numeric",month:"short",day:"numeric"},g={hour:"numeric",minute:"2-digit",hour12:!0};return`${s.toLocaleDateString(void 0,i)}, ${s.toLocaleTimeString(void 0,g)}`}function M(){confirm("Are you sure you want to clear the entire spin history? This cannot be undone.")&&k.clear()}O(()=>h(),()=>{W(m,h()||[])}),R(),oe();var p=de(),w=r(p);se(w,"src",ne);var P=d(w,2);{var j=e=>{var s=pe(),i=z(s),g=r(i);t(i);var b=d(i,2);ee(b,5,()=>o(m),n=>n.id,(n,a)=>{var u=le(),f=r(u),v=r(f),A=r(v,!0);t(v);var x=d(v,2),B=r(x,!0);t(x),t(f);var $=d(f,2),E=r($,!0);t($),t(u),J((F,G,I)=>{te(v,`background-color: ${F??""}; border-color: ${G??""};`),y(A,o(a).category),y(B,I),y(E,o(a).message)},[()=>_(o(a).category),()=>_(o(a).category),()=>L(o(a).timestamp)],K),l(n,u)},n=>{var a=ce();l(n,a)}),t(b),Q("click",g,M),l(e,s)},q=e=>{var s=ve();l(e,s)};V(P,e=>{o(m).length>0?e(j):e(q,!1)})}t(p),ae(3,p,()=>re,()=>({y:200,duration:400})),l(C,p),U(),S()}export{xe as component};
